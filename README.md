# نظام وكالات السفر (RTLA)

![إصدار النظام](https://img.shields.io/badge/الإصدار-1.0.0-blue)
![Laravel](https://img.shields.io/badge/Laravel-v12.7.2-red)
![الترخيص](https://img.shields.io/badge/الترخيص-MIT-green)

## نظرة عامة

نظام وكالات السفر (RTLA) هو منصة متكاملة لإدارة وكالات السفر، تتيح إدارة الوكلاء الرئيسيين والسبوكلاء والعملاء في بيئة موحدة. يدعم النظام اللغة العربية بالكامل واتجاه العرض من اليمين إلى اليسار (RTL).

## المميزات الرئيسية

- **واجهة عربية كاملة** مع دعم RTL (من اليمين إلى اليسار).
- **تعدد المستخدمين** (وكيل رئيسي، سبوكيل، عميل) مع صلاحيات مختلفة.
- **نظام متعدد المستأجرين** (Multi-Tenant) يمكن كل وكالة من العمل في مساحة منفصلة.
- **إدارة متكاملة للخدمات** (موافقات أمنية، نقل بري، حج وعمرة، تذاكر طيران، إصدار جوازات).
- **نظام طلبات متقدم** يضمن خصوصية المعلومات بين الوكلاء والسبوكلاء والعملاء.
- **إدارة عروض الأسعار** مع آلية اعتماد للوكيل الرئيسي.
- **نظام مالي متكامل** لإدارة العمولات والمدفوعات.
- **أرشفة وإدارة المستندات** مع خيارات مختلفة للرؤية.

## متطلبات النظام

- PHP >= 8.2
- MySQL >= 5.7 أو SQLite
- Composer
- Node.js و NPM
- Git

## خطوات التثبيت

### 1. نسخ المشروع

```bash
git clone [رابط المستودع] rtla-app
cd rtla-app
```

### 2. تثبيت اعتماديات PHP

```bash
composer install
```

### 3. إعداد ملف البيئة

```bash
cp .env.example .env
php artisan key:generate
```

### 4. إعداد قاعدة البيانات

قم بتعديل إعدادات قاعدة البيانات في ملف `.env`

```bash
php artisan migrate --seed
```

### 5. تثبيت وتجميع الأصول الأمامية

```bash
npm install
npm run dev
```

### 6. تشغيل المشروع

```bash
php artisan serve
```

بعد ذلك، يمكن الوصول إلى النظام من خلال: `http://localhost:8000`

## أنواع المستخدمين

### 1. الوكيل الرئيسي
- إدارة كاملة للوكالة
- إدارة السبوكلاء والعملاء
- إدارة الخدمات والطلبات
- مراجعة وموافقة على عروض الأسعار
- تقارير مالية وإحصائية

### 2. السبوكيل
- استعراض الخدمات المتاحة له
- عرض طلبات الأسعار
- تقديم عروض أسعار
- متابعة المستحقات المالية

### 3. العميل
- استعراض الخدمات
- تقديم طلبات جديدة
- متابعة حالة الطلبات
- اختيار عروض الأسعار المناسبة

## هيكل المشروع

```
app/
├── Http/
│   ├── Controllers/         # كنترولرات التطبيق
│   │   ├── Agency/          # كنترولرات خاصة بالوكيل
│   │   ├── Subagent/        # كنترولرات خاصة بالسبوكيل
│   │   └── Customer/        # كنترولرات خاصة بالعميل
│   ├── Middleware/          # الوسائط
│   └── Requests/            # طلبات النماذج
├── Models/                  # نماذج التطبيق
└── Providers/               # مزودي الخدمات
resources/
├── css/                     # ملفات CSS
├── js/                      # ملفات JavaScript
└── views/                   # القوالب
    ├── agency/              # واجهات الوكيل الرئيسي
    ├── subagent/            # واجهات السبوكيل
    ├── customer/            # واجهات العميل
    ├── layouts/             # القوالب الرئيسية
    └── partials/            # أجزاء الواجهة المشتركة
```

## تطوير التطبيق

### إعادة تجميع الأصول أثناء التطوير

```bash
npm run dev
```

### تشغيل الاختبارات

```bash
php artisan test
```

## إعداد الوكيل الأساسي الأول

1. قم بالتسجيل كوكيل أساسي من صفحة التسجيل.
2. قم بإدخال بيانات الوكالة واسم المستخدم وكلمة المرور.
3. بعد التسجيل، سيتم توجيهك إلى لوحة تحكم الوكيل.
4. من هناك يمكنك إضافة الخدمات والسبوكلاء والبدء في استخدام النظام.

## البيانات الافتراضية للتجربة

يمكنك إضافة بيانات افتراضية للتجربة باستخدام الأمر التالي:

```bash
php artisan app:seed-demo
```

هذا الأمر سيقوم بإنشاء:
- وكالات افتراضية
- مستخدمين من مختلف الأنواع (وكلاء، سبوكلاء، عملاء)
- خدمات متنوعة (موافقات أمنية، نقل بري، تذاكر طيران، ...)
- طلبات متنوعة
- عروض أسعار تجريبية

### بيانات الدخول الافتراضية للتجربة السريعة

```
البريد الإلكتروني: test@example.com
كلمة المرور: 123456
```

### الوكالات والمستخدمين الافتراضيين

1. **وكالة اليمن للسفر والسياحة**
   - مدير الوكالة: admin@yemen-travel.com / password123
   - السبوكلاء:
     - أحمد محمد: ahmed@yemen-travel.com / password123
     - محمد علي: mohammed@yemen-travel.com / password123
   - العملاء:
     - سالم علي: salem@example.com / password123
     - فاطمة أحمد: fatima@example.com / password123

2. **وكالة الخليج للسفريات**
   - مدير الوكالة: admin@gulf-travel.com / password123
   - السبوكلاء:
     - خالد حسن: khaled@gulf-travel.com / password123
   - العملاء:
     - عبد الله محمد: abdullah@example.com / password123

## المساهمة في المشروع

نرحب بمساهماتكم في تطوير هذا المشروع! يرجى اتباع الخطوات التالية:

1. انسخ المستودع (Fork)
2. أنشئ فرعًا جديدًا (`git checkout -b feature/amazing-feature`)
3. قم بعمل التغييرات المطلوبة
4. أضف التغييرات (`git add .`)
5. قم بعمل commit (`git commit -m 'إضافة ميزة رائعة'`)
6. ارفع التغييرات إلى الفرع الخاص بك (`git push origin feature/amazing-feature`)
7. افتح طلب سحب (Pull Request)

## الترخيص

هذا المشروع مرخص تحت رخصة MIT - انظر ملف LICENSE للمزيد من التفاصيل.

## الدعم

لأي استفسارات أو مشاكل، يرجى فتح issue في صفحة المشروع على GitHub.
